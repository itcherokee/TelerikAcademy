<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Task 10: Write a program that extracts from a given text all palindromes.</title>
    <link href="styles/js-console.css" rel="stylesheet" />
</head>
<body>
    <div>Task 10: Write a program that extracts from a given text all palindromes.</div>
    <label for="tb-text">Text: </label>
    <input type="text" name="tb-text" id="tb-text" value="w ABBA is the most fancy pop group of the 70's. All programs must be started from the executable file that ends with exe."/>
    <a href="#" id="btn-check-prime" onclick="onBtnClick()">Check</a>
    <div id="js-console">
    </div>
    <script src="script/js-console.js"></script>
    <script>

        function onBtnClick() {
            jsConsole.writeLine("All palindromes: ");
            jsConsole.writeLine(checkForPalindrome(jsConsole.read("#tb-text")));
        }

        function checkForPalindrome(source) {
            // using regular expression splits sentence into words
            var words = source.split(/\W+/);
            var result = [];
            // iterate over array of words by checking each word does it palindrome
            for (var i = 0; i < words.length; i++) {
                if (words[i].length > 1) {
                    if (isItPalindrome(words[i])) {
                        result.push(words[i]);
                    }
                }
            }
            // returns array containing only palindromes
            return result;

            // internal function - checks does given word is a palindrome
            function isItPalindrome(word) {
                var palindrome = true;
                for (var index = 0; index < word.length; index++) {
                    if (index >= word.length - 1 - index) {
                        // if reached the word center -> exit loop and return current status of palindrome variable
                        break;
                    }
                    // checks character by character for palindrome (first with last, secons with .....); if different -> not a palindrome
                    if (word[index] !== word[word.length - 1 - index]) {
                        palindrome = false;
                        break;
                    }
                }
                // if palindrome return true else false
                return palindrome;
            }
        }

    </script>
</body>
</html>

