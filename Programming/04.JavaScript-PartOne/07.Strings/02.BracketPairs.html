<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Task 2: Write a JavaScript function to check if in a given expression the brackets are put correctly.</title>
    <link href="styles/js-console.css" rel="stylesheet" />
</head>
<body>
    <div>Task 2: Write a JavaScript function to check if in a given expression the brackets are put correctly.</div>
    <label for="tb-input">Expression: </label>
    <input type="text" name="tb-input" id="tb-input" />
    <a href="#" id="btn-check-prime" onclick="onBtnClick()">Check</a>
    <div id="js-console">
    </div>
    <script src="script/js-console.js"></script>
    <script>


        function onBtnClick() {
            jsConsole.write("Brackets in this expression are: ");
            var input = jsConsole.read("#tb-input");
            switch (isBracketsOK(input)) {
                case true:
                    jsConsole.writeLine("OK");
                    break;
                case false:
                    jsConsole.writeLine("Wrong!");
                    break;
                default:
                    jsConsole.writeLine("There were no brackets in the expression.");
                    break;
            }
            jsConsole.writeLine(reverseString(input));
        }

        // check brackets pairing
        // first check for brackets at all
        // then check for first closing brackets before first opening
        // than iretate over the string and matching pairs of brackets by storing them in array
        // if at the end the array is not empty -> wrong brackets else OK
        function isBracketsOK(source) {
            var brackets = [];
            if (source.indexOf("(") == -1 && source.indexOf(")")== -1) {
                return undefined;
            }
            else if((source.indexOf("(")==-1 && source.indexOf(")") != -1)||
                    ((source.indexOf("(")> source.indexOf(")") ))){
                return false;
            }
            else{
                for (var index = 0; index < source.length; index++) {
                    if (source[index] == "(") {
                        brackets.push("(");
                    }
                    else if (source[index] == ")" && brackets.length) {
                        brackets.pop();
                    }
                }
                if (brackets.length){
                    return false;
                }
                else {
                    return true;
                }
         
            }
        }

    </script>
</body>
</html>

