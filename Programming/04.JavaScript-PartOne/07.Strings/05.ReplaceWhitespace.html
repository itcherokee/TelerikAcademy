<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Task 5: Write a function that replaces non breaking white-spaces in a text with &amp;nbsp;</title>
    <link href="styles/js-console.css" rel="stylesheet" />
</head>
<body>
    <div>Task 5: Write a function that replaces non breaking white-spaces in a text with &amp;nbsp;</div>
    <label for="tb-text">Text: </label>
    <input type="text" name="tb-text" id="tb-text" />
    <a href="#" id="btn-check-prime" onclick="onBtnClick()">Modify</a>
    <div id="js-console">
    </div>
    <script src="script/js-console.js"></script>
    <script>


        function onBtnClick() {

            jsConsole.writeLine("Modified text:");
            jsConsole.write(replaceWhitespace(jsConsole.read("#tb-text")));
        }

        function replaceWhitespace(source) {
            var whitespaceIndex = 0;
            var position = 0;
            var target = "";
            while (true) {
                // search for whitespace and get the index
                whitespaceIndex = source.indexOf(" ", position);
                if (whitespaceIndex < 0)
                {
                    // if no more whitespaces, exit the loop and return the new (target) string
                    break;
                }
                // copy the text from previous white space to newly found into new string (target)
                target += source.slice(position, whitespaceIndex) + "&amp;nbsp;";
                position = whitespaceIndex + 1;
            }
            // if we did not reach the end of the source string, copy the rest of text (after last whitespace) into new string (target)
            if (position < source.length)
            {
                target += source.slice(position, source.length)
            }
            return target;
        }

    </script>
</body>
</html>

